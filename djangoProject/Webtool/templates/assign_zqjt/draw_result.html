 <html>
     <head>
        <title>最强军团完成状况统计</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="/webtool/site_media/lib/jquery-easyui-1.4.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>                               
        <script src="/webtool/site_media/lib/highcharts/highcharts.js" type="text/javascript"></script>
        <script type="text/javascript">
        $(function (){
            var chart;
			var chart1;
			var currentsheet={{tablename|safe}};
			//$.post('/assignTestCase/findAllSqlName/',function(res){
            $(document).ready(function() {
                $.getJSON("/webtool/assign_zqjt/getTotalResult/"+currentsheet+"/", function(json) {
				//$.post('/webtool/assign_test_case/getResultLeihuo/',function(json){
                    chart = new Highcharts.Chart({  
                        chart: {
                            renderTo: 'container',
                            plotBackgroundColor: null,
                            plotBorderWidth: null,
                            plotShadow: false,
                            type: 'pie'
                        },
                        title: {
                            text:'最强军团测试文本总完成率'
                        },
                        tooltip: {
                            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                        },
                        plotOptions: {
                            pie: {
                                allowPointSelect: true,
                                cursor: 'pointer',
                                dataLabels: {
                                    enabled: true,
                                    format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                    style: {
                                        color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                    }
                                }
                            }
                        },
                        series:[{
                            name:'brands',
                            colorByPoint: true,
                            data:json
                        }]      
                    });
                });
				
				$.getJSON("/webtool/assign_zqjt/getSubResult/"+currentsheet+"/", function(json) {
					chart1 = new Highcharts.Chart({  
						chart: {
							renderTo: 'container1',
							type: 'column'
						},
						title: {
							text: '最强军团测试文本完成情况'
						},
						xAxis: {
							categories: ['黄超群', '汪斌', '朱军','徐勇军','未分配']
						},
						yAxis: {
							min: 0,
							title: {
								text: '用例数量'
							},
							stackLabels: {
								enabled: true,
								style: {
									fontWeight: 'bold',
									color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
								}
							}
						},
						legend: {
							align: 'right',
							x: -30,
							verticalAlign: 'top',
							y: 25,
							floating: true,
							backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
							borderColor: '#CCC',
							borderWidth: 1,
							shadow: false
						},
						tooltip: {
							headerFormat: '<b>{point.x}</b><br/>',
							pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
						},
						plotOptions: {
							column: {
								stacking: 'normal',
								dataLabels: {
									enabled: true,
									color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
									style: {
										textShadow: '0 0 3px black'
									}
								}
							}
						},
						series: json
					});
				});
            });		
			
        });         
        </script>
    </head>
    <body>
		<div style="margin-left:450px;height:400px;width:1500px">
			<div id="container" style="float:left"></div>
			<div style="float:left;margin-left:50px;margin-top:120px;border-style: solid;">
			<p style="margin-left:5px">完成 --》该条文本在游戏内测试过</p>
			<p style="margin-left:5px">未完成 --》该条文本还未测试</p>
			<p style="margin-left:5px">文本已测 --》该条文本只是字面测试（针对游戏内还没有的功能，或可能永远不会有的功能)</p>
			<p style="margin-left:5px">暂未找到 --》该条文本游戏内未找到，但也经过字面测试（针对游戏内已有功能）</p>
			<p style="margin-left:5px">未翻译 --》该条文本为新增文本，还未翻译</p>
			</div>
		</div>

		<div id="container1" style="min-width:400px;height:400px"></div>
    </body>   
 </html>
 