 <html>
     <head>
        <title>title</title>
        <style>  
            div{  
                display: inline-block;  
            }  
        </style>  
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css">
        <script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>                           
        <script src="/webtool/site_media/lib/highcharts/highcharts.js" type="text/javascript"></script>
        <script type="text/javascript">
        $(function(){
            $('#container').highcharts({
                title: {
                    text: '{{projectname|safe}}质量保障通过率趋势图',
                    x: -20 //center
                },
                xAxis: {
                    categories: ['已开发1个月', '已开发2个月','已开发3个月','已开发4个月','已开发5个月', '已开发6个月','已开发7个月', '已开发8个月','已开发9个月', '已开发10个月','已开发11个月', '已开发12个月','已开发13个月', '已开发14个月','已开发15个月', '已开发16个月','已开发17个月', '已开发18个月','已开发19个月', '已开发20个月','已开发21个月', '已开发22个月','已开发23个月', '已开发24个月','已开发25个月', '已开发26个月','已开发27个月', '已开发28个月','已开发29个月', '已开发30个月','已开发31个月', '已开发32个月','已开发33个月', '已开发34个月','已开发35个月', '已开发36个月']
                },
                yAxis: {
                    floor: 0,
                    ceiling: 100,
                    title: {
                        text: '通过率(%)'
                    },
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#808080'
                    }]
                },
                tooltip: {
                    valueSuffix: '%',

                },
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'middle',
                    borderWidth: 0
                },
                plotOptions: {
                    line: {
                        dataLabels: {
                            formatter: function () {
                            return Highcharts.numberFormat(this.y,1)+'%';
                        },
                            enabled: true
                        },
                        enableMouseTracking: true
                    }
                },
                series: [{
                    connectNulls:true,
                    name: '{{projectname|safe}}质量保障通过率',
                    data:  {{data|safe}}
                }]
            });
			
            $('#container1').highcharts({
                chart: {
                    type: 'column'
                },
                title: {
                    text: '{{projectname|safe}}趋势'
                },
                xAxis: {
                    categories: ['手游上线App Store公司内审标准','手游上线MTL质量标准','手游上线QA推荐标准（非强制）','手游上线QA质量标准','手游上线UE质量标准','手游上线必过标准','手游上线SA质量标准','雷火通用功能']
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '通过率(%)'
                    },

                    stackLabels: {
                        enabled: false,
                        formatter: function () {
                            return Highcharts.numberFormat(this.y,1)+'%';
                        },
                        style: {
                            fontWeight: 'bold',
                            color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray',
                        },
                    }
                },

                legend: {
                    align: 'right',
                    x: -30,
                    verticalAlign: 'top',
                    y: 25,
                    floating: false,
                    backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
                    borderColor: '#CCC',
                    borderWidth: 1,
                    shadow: false
                },
                tooltip: {
                    valueSuffix: '%',
                    //pointFormat: '{series.name}: {point.y}<br/>',
					headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
					pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
						'<td style="padding:0"><b>{point.y:.1f}%</b></td></tr>',
					footerFormat: '</table>',
					shared: true,
					useHTML: true
                },
                
                plotOptions: {
                    column: {
                        dataLabels: {
                            enabled: true,
                            color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
                            formatter: function () {
                                return Highcharts.numberFormat(this.y,1)+'%';
                            },
                            style: {
                                textShadow: '0 0 3px black'
                            }
                        }
                    }
                },
                series: [
				{% for k,v in sub_res.iteritems %}
				{
                    name: '已开发{{k}}个月',
                    data: {{v}},
                },
				{% endfor %}
				]
            });

            $('#container2').highcharts({
                chart: {
                    type: 'column'
                },
                title: {
                    text: '安卓用例通过率和苹果用例通过率'
                },
                xAxis: {
                    categories: ['手游上线App Store公司内审标准','手游上线MTL质量标准','手游上线QA推荐标准（非强制）','手游上线QA质量标准','手游上线UE质量标准','手游上线必过标准','手游上线SA质量标准','雷火通用功能']
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '通过率(%)'
                    },

                    stackLabels: {
                        enabled: false,
                        formatter: function () {
                            return Highcharts.numberFormat(this.y,1)+'%';
                        },
                        style: {
                            fontWeight: 'bold',
                            color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray',
                        },
                    }
                },

                legend: {
                    align: 'right',
                    x: -30,
                    verticalAlign: 'top',
                    y: 25,
                    floating: false,
                    backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
                    borderColor: '#CCC',
                    borderWidth: 1,
                    shadow: false
                },
                tooltip: {
                    valueSuffix: '%',
                    //pointFormat: '{series.name}: {point.y}<br/>',
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                        '<td style="padding:0"><b>{point.y:.1f}%</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                },
                
                plotOptions: {
                    column: {
                        dataLabels: {
                            enabled: true,
                            color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
                            formatter: function () {
                                return Highcharts.numberFormat(this.y,1)+'%';
                            },
                            style: {
                                textShadow: '0 0 3px black'
                            }
                        }
                    }
                },
                series: [{
                    name: '安卓',
                    data: {{androidPass|safe}},
                },{
                    name: '苹果',
                    data: {{iphonePass|safe}},
                },
                ]
            });

            $('#container3').highcharts({
                chart: {
                    type: 'column'
                },
                title: {
                    text: '排除不适用{{projectname|safe}}的用例后通过率'
                },
                xAxis: {
                    categories: ['手游上线App Store公司内审标准','手游上线MTL质量标准','手游上线QA推荐标准（非强制）','手游上线QA质量标准','手游上线UE质量标准','手游上线必过标准','手游上线SA质量标准','雷火通用功能']
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: '通过率(%)'
                    },

                    stackLabels: {
                        enabled: false,
                        formatter: function () {
                            return Highcharts.numberFormat(this.y,1)+'%';
                        },
                        style: {
                            fontWeight: 'bold',
                            color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray',
                        },
                    }
                },

                legend: {
                    align: 'right',
                    x: -30,
                    verticalAlign: 'top',
                    y: 25,
                    floating: false,
                    backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
                    borderColor: '#CCC',
                    borderWidth: 1,
                    shadow: false
                },
                tooltip: {
                    valueSuffix: '%',
                    //pointFormat: '{series.name}: {point.y}<br/>',
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                        '<td style="padding:0"><b>{point.y:.1f}%</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                },
                
                plotOptions: {
                    column: {
                        dataLabels: {
                            enabled: true,
                            color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
                            formatter: function () {
                                return Highcharts.numberFormat(this.y,1)+'%';
                            },
                            style: {
                                textShadow: '0 0 3px black'
                            }
                        }
                    }
                },
                series: [{
                    name: '{{projectname|safe}}(未排除不适用用例)',
                    data: {{allPass|safe}},
                },{
                    name: '{{projectname|safe}}(排除不适用用例)',
                    data: {{usefulPass|safe}},
                },
                ]
            });
        });
        function toMainPage(){
            //window.location.replace('/webtool/assign_test_case/index/');
            window.open('/webtool/assign_test_case/index/',true);           
        }      
        </script>
    </head>

    <body>
        <nav class="navbar-default navbar-static-top" role="navigation" style="width:1600px;"> 
            <div class="container-fluid"> 
                <div class="navbar-header"> 
                    <a class="navbar-brand" href="/webtool/assign_test_case/index/">首页</a>
                    <a class="navbar-brand">雷火测试用例管理平台</a>   
                </div> 
            </div> 
        </nav>
		<div id="container" style="min-width:1600px;height:400px"></div>
		<div id="container1" style="min-width:1600px;height:400px"></div>
        <div id="container2" style="min-width:1600px;height:400px"></div>
        <div id="container3" style="min-width:1600px;height:400px"></div>
    </body>   
 </html>
 