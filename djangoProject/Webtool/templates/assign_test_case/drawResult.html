 <html>
     <head>
        <title>title</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="/webtool/site_media/lib/jquery-easyui-1.4.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>                               
        <script src="/webtool/site_media/lib/highcharts/highcharts.js" type="text/javascript"></script>
        <script type="text/javascript">
        $(function (){
            var chart;
			var chart1;
			var currentsheet={{tablename|safe}};
            $(document).ready(function() {
                $.getJSON("/webtool/assign_test_case/getResult/"+currentsheet+"/", function(json) {
                    chart = new Highcharts.Chart({  
                        chart: {
                            renderTo: 'container',
                            plotBackgroundColor: null,
                            plotBorderWidth: null,
                            plotShadow: false,
                            type: 'pie'
                        },
                        title: {
                            text:'通过率'
                        },
                        tooltip: {
                            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                        },
                        plotOptions: {
                            pie: {
                                allowPointSelect: true,
                                cursor: 'pointer',
                                dataLabels: {
                                    enabled: true,
                                    format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                    style: {
                                        color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                    }
                                }
                            }
                        },
                        series:[{
                            name:'brands',
                            colorByPoint: true,
                            data:json
                        }]      
                    });
                });
				
				
				$.getJSON("/webtool/assign_test_case/getSubResult/"+currentsheet+"/", function(json) {
					chart1 = new Highcharts.Chart({  
						chart: {
							renderTo: 'container1',
							type: 'column'
						},
						title: {
							text: '测试用例通过数和未通过数（按类型）'
						},
						xAxis: {
							categories:{{category|safe}},
						},
						yAxis: {
							min: 0,
							title: {
								text: '用例数量'
							},
							stackLabels: {
								enabled: true,
								style: {
									fontWeight: 'bold',
									color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
								}
							}
						},
						legend: {
							align: 'right',
							x: -30,
							verticalAlign: 'top',
							y: 25,
							floating: true,
							backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
							borderColor: '#CCC',
							borderWidth: 1,
							shadow: false
						},
						tooltip: {
							headerFormat: '<b>{point.x}</b><br/>',
							pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
						},
						plotOptions: {
							column: {
								stacking: 'normal',
								dataLabels: {
									enabled: true,
									color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
									style: {
										textShadow: '0 0 3px black'
									}
								}
							}
						},
						series: json
					});
				});
            });			
			
        });         
        </script>
    </head>
    <body>
        <div id="container" style="min-width:400px;height:400px"></div>
		<div id="container1" style="min-width:400px;height:400px"></div>
    </body>   
 </html>
 